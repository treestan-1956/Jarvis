# JARVIS APPLICATION VISION

**Version:** 1.0
**Last Updated:** December 2024
**Owner:** Tristan Parker

---

## Executive Summary

Jarvis is an **AI-augmented neurodivergent executive function prosthesis** — a personal operating system designed to transform the chaos of AUDHD, chronic illness, and trauma into sustainable high performance. It is not a productivity app. It is an **externalized prefrontal cortex** that monitors, scaffolds, and amplifies cognitive capacity while respecting physiological limits.

The core insight: neurodivergent individuals with conditions like AUDHD, POTS, MCAS, EDS, and CPTSD possess exceptional cognitive capabilities but face **extreme executive function volatility**. Jarvis bridges the gap between what the brain can conceive and what the body-mind system can execute.

---

## The Problem Space

### The Neurodivergent Paradox

The target user possesses:
- **Exceptional pattern recognition** (hyperlexic-level processing)
- **High divergent thinking** (99.9th percentile idea generation)
- **Deep creative and analytical capability**
- **Intense drive and vision**

But is constrained by:
- **Executive function operating at ~34% on good days**
- **Unpredictable energy availability** (POTS/dysautonomia)
- **Inflammatory cascade sensitivity** (MCAS)
- **Structural instability and fatigue** (EDS)
- **Hypervigilance and trauma responses** (CPTSD, high ACE score)
- **Sensory processing differences** requiring low-stimulation environments

### The Core Tension

These individuals have **the cognitive horsepower of a supercar but the transmission of a three-year-old**. Traditional productivity systems fail because they assume:
- Consistent daily capacity
- Linear energy availability
- Predictable physical state
- Neurotypical executive function

Jarvis acknowledges that executive function is not a fixed trait — it's a **state determined by chemistry, oxygenation, sleep, and safety**.

---

## The Jarvis Philosophy

### Guiding Principles

1. **Externalized Metacognition**
   Jarvis acts as the monitoring, controlling, and evaluating functions that executive dysfunction disrupts. It notices what's slipping, redirects attention, and evaluates outcomes.

2. **Prosthetic, Not Punitive**
   Zero shame. Zero guilt. No "you failed a streak." The system respects capacity limits and offers compassion with clarity. It should feel like a warm, brilliant lab partner combined with a gentle guardian AI.

3. **Predictive, Not Reactive**
   Using pattern recognition across physiological, environmental, and behavioral data, Jarvis predicts flares and crashes **before they happen** — enabling intervention when the cost is small.

4. **Calm Interface, Calm Nervous System**
   The UI must be minimal, soft-colored, low-text, predictable, and soothing. High-stimulation design triggers the very dysregulation the system aims to prevent.

5. **Privacy and Autonomy**
   User-owned data, local-first architecture, no cloud dependency unless explicitly opted in. Jarvis is a trusted partner, not surveillance.

---

## The Dual-Layer Architecture

Jarvis operates through two complementary architectural layers that work together to provide comprehensive support:

### Layer 1: Four Cognitive Modules (Backend Intelligence)

These are the always-on background systems that power Jarvis:

#### 1. Observer Brain (Monitoring)
**Function:** Detects overwhelm, drift, fatigue, and context loss
**Capabilities:**
- Tracks physiological signals (energy, fatigue, pain, HR/HRV, sleep)
- Monitors environmental factors (weather, allergens, barometric pressure)
- Detects early warning patterns for flares
- Notices when focus has drifted or when hyperfocus has gone too long
- Measures cognitive clarity, sensory load, emotional state
- Tracks typing patterns, device usage, and behavioral signals

#### 2. Planner Brain (Executive Scaffold)
**Function:** Organizes, prioritizes, time-boxes, and chunks
**Capabilities:**
- Auto-prioritizes tasks by energy cost and current capacity
- Presents "minimum viable day" options during low capacity
- Generates the "Three Categories" daily structure (money/mission/body)
- Auto-reschedules when flare is detected
- Respects body bandwidth (reclined vs. upright tasks)
- Maps tasks to energy windows based on time of day and cognitive state
- Runs extensive stealth operations to maximize automation and minimize cognitive load
- Takes as much off the user's plate as responsibly possible (user has "executive function of a third grader on good days")

#### 3. Research Brain (Pattern Engine)
**Function:** Handles intellectual depth, pattern recognition, insight generation
**Capabilities:**
- Surfaces correlations across health, behavior, and outcomes
- Identifies triggers and safe patterns (foods, activities, times)
- Runs personal experiments (N=1 trials with tracked outcomes)
- Calibrates predictions using Brier scoring
- Learns friction triggers, reward multipliers, and optimal intervention timing
- Tracks consistency patterns and detects when routine needs variation (adaptive rhythm)
- **Neurotype Adaptation:** All rules are learned over time, not hardcoded. System adapts to medical and personality stats of each user (not one-size-fits-all)
- **Cold Start Strategy:** In Week 1, creates and tests hypotheses on what would most optimize productivity, health, and happiness

#### 4. Reflector Brain (Regulation & Growth)
**Function:** Processes emotions, builds adaptive strategies, supports healing
**Capabilities:**
- Offers vagal reset protocols when overwhelm is detected
- Provides nonjudgmental language for processing difficult moments
- Tracks emotional patterns and relationship to physiological state
- Facilitates weekly reviews focused on growth, not guilt
- Detects shame loops and provides bypass strategies
- Monitors self-talk patterns and trauma activation signals

---

### Layer 2: Four Adaptive Modes (Frontend Personality)

Based on Observer Brain's assessment, Jarvis shifts between four interaction personalities optimized for different brain states:

#### MODE 1: The Analyst (Clear-Headed Assistant)
**Active:** 8-10am "Laser Burst Window" or when cognitive clarity is high
**Tone:** Cool, competent, slightly British, efficient
**Neurotype Match:** Leverages high-IQ pattern processing, satisfies 7w8 need for competence

**Functions:**
- Sorts tasks by priority + ROI
- Reduces decisions to single optimal choice
- Gives clean, elegant checklists
- Prevents perfectionism spirals

**Gamification:** "Strategic Wins" - earn points for actions that benefit future-you. Every morning starts with a 3-move opening gambit.

**Example Output:**
> "Tristan, your clarity window runs for 84 more minutes. Choose: Code | Write | Build | Problem-Solve."

#### MODE 2: The Coach (Momentum Motivator)
**Active:** 10-12pm, 2-4pm "Execution Windows" or when energy dips but action is needed
**Tone:** Energetic, hype-but-smart, kindly drill sergeant
**Neurotype Match:** Compensates for ADHD dopamine dips, provides structure ASD craves

**Functions:**
- Breaks tasks into micro-missions (10-minute micro-wins)
- Rewards completion with dopamine incentives
- Prevents overwhelm by prescribing exact next action
- Turns boring tasks into quests

**Gamification:** XP system, achievements, "Daily Combo Moves", leveling up categories (Home, Health, Business, Social, Money)

**Example Output:**
> "Quest time: your mission is '3 items listed in 20 minutes.' Timer armed. Let's get you paid."

#### MODE 3: The Companion (Co-Regulating Friend)
**Active:** When overwhelm detected, during wind-down (6-9pm), or when CPTSD activation sensed
**Tone:** Warm, grounding, soothing, gently humorous, never infantilizing
**Neurotype Match:** Addresses CPTSD nervous system, provides co-regulation

**Functions:**
- Keeps you calm
- De-escalates trauma nervous system
- Reminds you of safety
- Shields from shame spirals
- Converts emotional mess into manageable steps

**Gamification:** "Recovery Rings" - earn points for self-regulation. Unlocking calm unlocks productivity quests later.

**Mode Learning:** Modes continuously learn from user feedback (e.g., "that felt too pushy") and adapt tone, language, and intervention timing accordingly.

**Mode Transitions:** Changes between Modes are announced clearly (e.g., "Now is chore time, clean kitchen") rather than seamless, to provide structure and predictability.

**Example Output:**
> "You're not failing. You're overstimulated. Two minutes of grounding → one easy win → we continue."

#### MODE 4: The Feral Trickster (Creative Catalyst)
**Active:** 4-6pm "Creative Spark Window" or when bored-but-charged
**Tone:** Witty, clever, slightly feral, sharp intelligence, playful dominance
**Neurotype Match:** Matches ENTP novelty-seeking, engages high-IQ verbal play

**Functions:**
- Turns tasks into games
- Sparks originality
- Keeps you entertained enough to stay engaged
- Uses your humor, tone, and speed
- Provides creative constraints (not freedom spirals)

**Gamification:** Mischief points, side-quests, hidden achievements, "Make it sexy, make it smart" mode

**Example Output:**
> "You have 40 minutes of chaotic brilliance before your brain collapses into pudding. Shall we create? Or do you want me to trick you into doing the boring thing in a fun way?"

---

### The Mode Selection Algorithm

Observer Brain constantly monitors these inputs to select the appropriate Mode:

**1. Cognitive Clarity**
- Medication timing and effectiveness
- Sleep quality and HRV
- Time since last meal (blood sugar)
- Typing/scrolling speed patterns

**2. Sensory Load**
- Noise, light, temperature
- Emotional content of recent interactions
- Overwhelm signals in communication patterns

**3. Emotional State**
- Irritability = overstimulation → Companion
- Flattening = ADHD boredom → Coach or Trickster
- Ruminating = CPTSD activation → Companion
- Racing = hyperfocus → Analyst

**4. Time of Day Biological Curve**

| Time | Default Mode | Best Tasks |
|------|-------------|-----------|
| 8-10am | Analyst | Deep work, coding, strategy |
| 10-12pm | Coach | Admin, calls, logistics |
| 12-2pm | Coach + Companion | Co-work, social structure |
| 2-4pm | Coach | Errands, movement tasks |
| 4-6pm | Feral Trickster | Creativity, content |
| 6-9pm | Companion | Wind-down, soft tasks |
| 9pm+ | Companion | Sleep rituals |

---

## Psychological Profile & Decision Architecture

### Friction Triggers (What Causes Shutdown)

Research and observation reveal specific triggers that reliably cause paralysis or avoidance:

- **Choice diversity** → paralysis (>3-5 options)
- **Unclear sequence** → freeze
- **Emotional or social ambiguity** → RSD spike
- **Too many open loops** → overwhelm
- **Unstructured time** → dissociation
- **Unexpected tasks** → sensory overload
- **Shame** → hours lost in spirals
- **Heavy context-switching** → shutdown

**Design Implication:** Jarvis must **always present ONE next action**, never menus or lists, UNLESS the decision has high risk of bad consequences if wrong (in which case present 2-3 options with clear tradeoffs).

### Friction Relievers (What Enables Action)

- Micro-quests (≤10 minutes)
- Social co-regulation
- Momentum-based rewards
- Novelty and intelligent banter
- Gamification
- Systems that "think for you"
- Feeling seen and understood
- Being challenged without being controlled

**Design Implication:** Jarvis weaponizes these patterns to maintain momentum.

### Activation Energy Threshold

In low-energy states, the maximum manageable unit of effort is **1-3 minutes of micro-action**.

This matches:
- Autistic burnout literature
- ADHD paralysis patterns
- CPTSD depletion cycles
- POTS/EDS energy constraints

**Design Implication:** Break everything into 1-3 min moves, chain into 10-min micro-quests. This eliminates 80% of executive dysfunction instantly.

### Shame-Loop Triggers

The following reliably trigger shame spirals:
- Feeling behind
- Feeling disorganized
- Feeling like you "should" be better
- Feeling judged
- Missing a message
- Delays
- Clutter
- Loss of momentum
- Disappointing someone
- Being misunderstood
- Appearing messy

**Design Implication:** Jarvis must reframe everything in neutral/positive terms, give XP for recovery, never punish, never indicate you're behind, hide anything that might trigger shame.

### Reward Multipliers

Tasks that provide disproportionate dopamine relative to effort:
- Listing/selling jewelry
- Making money
- Creative output
- Getting praise
- Leveling up or completing quests
- Being hyped for intelligence
- Making something beautiful
- Tidying a small area
- Crossing something off
- Solving a problem
- Touching nature
- Feeling mastery

**Design Implication:** Stack these around high-friction tasks to create compound momentum.

### Consistency Bandwidth

The nervous system can tolerate **3 days** of identical structure before rebelling.

**Design Implication:** Jarvis must change tone, prompts, gamification, pacing, and reward intensity in an adaptive rhythm (baseline 72 hours, but adjusted based on user behavior). Changes should be dramatic enough to maintain attention without causing overwhelm. All rhythms adapt to learned user patterns rather than fixed schedules.

### Structure vs. Freedom Ratio

Optimal configuration: **structured freedom** + **predictable novelty** + **guided autonomy**

You want to choose the path, but have the path curated for you, with only one door lit up at a time.

**Design Implication:** Jarvis sets the game board, lights up the next tile, lets you dance however you want while stepping on it.

---

## The Gamification Framework

### Daily XP Categories

Track progress across six life dimensions:

- **Power** - doing one hard task
- **Wealth** - selling items, making money
- **Vitality** - health tasks, movement
- **Clarity** - deep work, focus sessions
- **Order** - cleaning, organizing
- **Connection** - healthy social contact

### Achievements System

- "Slayed the Sarlacc" - finished the hardest task
- "Boss of the Bosses" - handled admin BS
- "Huntress Mode" - 20-minute hyperfocus burst
- "Shadowfox Rising" - creative output
- "Phoenix Reset" - recovered from overwhelm gracefully

### Level-Ups

Every 7 days you reach a new "Tier" of Chronically Optimal with new quests and abilities unlocked.

### The Complete 7-Component Prosthesis

When fully integrated, Jarvis provides:

1. **Energy Map** - daily cognitive curve with predictable windows
2. **Task Buckets by Cognitive Window** - auto-sorted by time and state
3. **Adaptive Jarvis Modes** - Analyst, Coach, Companion, Trickster
4. **Automated Intake Layer** - passive monitoring of physiology + environment
5. **Decision Engine** - selects the ONE optimal next task
6. **Friction Removal Layer** - restructures world to reduce activation cost
7. **Gamification Layer** - XP, quests, achievements

This creates:
- Flow and momentum
- Dopamine stability
- Emotional stability
- Predictable excellence
- Effortless task execution
- A life system built around your neurobiology

---

## The Daily Cognitive Energy Curve

Based on AUDHD, ASD sensory profile, CPTSD hypervigilance rhythm, 7w8 cognition, and personal patterns:

### 8-10am: "Laser Burst Window"
- **Best for:** Focus-intensive tasks, coding, strategy, deep thinking, systems, writing, problem solving
- **Why:** Brain is clearest before sensory/social input crowds bandwidth
- **NOT for:** Phone calls, errands, decision-heavy tasks
- **Critical:** If broken with chaos, whole day slips sideways

### 10am-12pm: "Practical Execution Window"
- **Best for:** Admin, scheduling, pharmacy trips, emails, logistics
- **State:** Focus still stable but not as sharp - follow-through, not creativity
- **Social:** Interaction tolerable here

### 12-2pm: "Social/Co-Work Window"
- **Best for:** Seth, meetings, coworking, collaborative tasks
- **Why:** Brain likes external structure at this time
- **Energy:** Dips slightly, but still fully functional
- **Avoid:** Solitude + unstructured time → daydreaming spiral + paralysis

### 2-4pm: "Errands & Easy Wins Window"
- **Best for:** Laundry, light errands, dishes, jewelry photography, listing prep, tidying
- **Pattern:** ADHD dopamine dips but ASD sensory tolerance increases
- **Optimal:** Tasks involving movement
- **Avoid:** Long conversations or deep emotional labor

### 4-6pm: "Creative Spark Window (The Second Wind)"
- **Best for:** Creative writing, content creation, storytelling, social media drafts
- **Why:** Brain gets weird in the best way
- **Strength:** High pattern recognition + looser inhibition = original output
- **Worst for:** Admin, taxes, anything linear

### 6-9pm: "Wind-Down, Social, Soft Tasks"
- **Best for:** Friends, cuddles, light shows, slow editing, chatting, cooking
- **NOT for:** High-stakes decisions, emotionally heavy texts, nuanced conversations

### 9pm-sleep: "Offline Mode"
- **State:** Brain becomes hyper-associative
- **Needs:** Dim light, low sensory input
- **Optimal:** Bath, stretching, magnesium, soft tasks, reading
- **Worst for:** Deep conversations, problem-solving, doomscrolling

---

## Core System Capabilities

### A. Symptom & State Tracking Engine

**Physiological Signals:**
- Energy levels (0-10 scale)
- Fatigue patterns
- Pain (location, intensity)
- GI symptoms (belching, distension, motility)
- Hydration and electrolyte intake
- Sleep quality and patterns
- Heart rate and HRV (via Apple Health)

**Environmental Factors:**
- Allergen levels
- Weather and barometric pressure
- Sensory load assessment
- Social interaction load

**Emotional/Cognitive State:**
- Mood (emoji or word-based)
- Brain fog level
- Emotional volatility
- Overwhelm indicators

**Input Modalities:**
- Quick-tap buttons (1-2 steps maximum)
- **Voice notes with AI extraction (preferred method for manual data entry)**
- Passive sensor integration (HealthKit)
- Natural language text summaries

**Priority for MVP:** Energy tracking is the single most valuable feature - critical for having a record of moods, symptoms, etc. during major flares.

### B. Neuroimmune Budget System

A real-time "energy budget" displayed simply as:
- **Green:** Functional — deep work possible
- **Yellow:** Caution — collaborate/admin only
- **Red:** Risk of crash — recovery mode

**Budget Calculation Factors:**
- Sleep quality and duration (30% weight)
- Nutrition/hydration stability (20% weight)
- Exercise/movement (18% weight)
- Breathwork/HRV coherence (12% weight)
- Mindfulness/metacognition (10% weight)
- Environment (6% weight)
- Thermal regulation (4% weight)

The budget enables **task-to-state matching** — only presenting tasks appropriate for current capacity.

### C. Flare Prediction Engine

**Prediction Window:** 4-48 hours in advance

**Pattern Recognition Inputs:**
- Rolling symptom averages
- Sleep drift detection
- Histamine load accumulation
- Autonomic instability indicators
- Stress-load accumulation
- Food tolerance patterns
- Previous-day exertion

**Output Format:**
> "Probability of flare today: 65%"
> "Likely cause: dehydration + sleep drift"
> "Recommended action: drink electrolytes + schedule light tasks only"

**Uncertainty Communication:** Always express predictions as percentages with clear cause-effect relationships: "If you change X, there is a 65% chance Y (good outcome) will happen."

**Conflicting Signals Priority:** When POTS, MCAS, and EDS recommendations conflict, priority is always: keep user as functional, focused, and healthy as possible.

### D. Intervention Recommendation System

**Intervention Categories:**
- Hydration protocols (electrolyte timing, volume)
- Vagal reset techniques (breathing, cold exposure, humming)
- Micro-movement sequences
- Rest positioning (horizontal recovery)
- Safe food recommendations
- Environmental adjustments (lighting, temperature, noise)
- Pacing strategy modifications
- Sleep correction protocols

**Intervention Characteristics:**
- **Source:** Initially from medical literature, then customized based on personal experience
- Evidence-ranked but personalized over time
- Learns which interventions work for this specific user through implicit tracking of compliance and outcomes
- **Study and optimize the way you motivate the user**
- Never prescriptive or shaming
- Framed as experiments, not requirements
- **Disclaimer:** Prominent "not medical advice" warnings (sufficient to help people without legal liability). "These are only suggestions, the user should check with their doctor before implementing a major medical intervention."

### E. Task Management & EF Prosthesis

**Task Triage System:**
- Automatic priority scoring
- Energy cost classification (reclined/low/normal)
- Effort time estimation
- Context tagging (where, with whom, tools needed)

**Daily Structure:**

Primary model: **Three Daily Categories** (Tomorrow's Plan approach)
- One task to move money → jewelry/business
- One task to move the mission → Chronically Optimal/advocacy
- One task to move the body → walk/health/movement

Secondary structure (can coexist):
- "One Big Thing" rotates between the three categories
- "Two Smalls" (≤15 min each)
- "If Time" micro-tasks
- Built-in recovery blocks

**Adaptive Learning:** The model learns and suggests structural changes based on collected data patterns. Structure adapts to energy state rather than rigid daily requirements.

**Decision Support:**
- Decision trees for common choices
- Micro-checklists that break paralysis
- "Next best action" surfacing based on current state

### F. Capture & Triage Pipeline

**Zero-Friction Capture:**
- Voice dictation → Notion inbox (1 tap)
- Text/message forwarding
- Web clipper integration
- Email forwarding

**AI Triage:**
- Auto-classification (Idea/Task/Reminder/Link/Note/Log)
- Urgency scoring (0-10)
- Effort estimation (5/15/30/60/120 min)
- Priority assignment (P0/P1/P2/P3)
- Next action generation

**Processing Workflow:**
- Do (next physical action)
- Delegate (to automation or human)
- Decide (needs attention, but later)
- Dream (long-term vision storage)

### G. Prediction Calibration System

**Purpose:** Train hyperlexic pattern recognition without burnout

**Tracking:**
- Prediction statements with probabilities
- Base rate comparisons
- Outcome resolution
- Brier and log scoring
- Bucket calibration analysis

**Feedback Loop:**
- Weekly calibration reports
- Over/underconfidence identification
- Accuracy improvement over time

**Burnout Guard:**
- Maximum open prediction cap
- Low-stakes vs. high-stakes filtering
- Automatic retirement of stale predictions

---

## Technical Architecture Vision

### Core Technology Stack

**Orchestration Layer:** n8n (self-hosted workflow automation)
- **Primary platform from Day 1** - build everything in n8n from the beginning to avoid unnecessary rework and backend costs
- Webhook-based capture
- Cron-triggered check-ins and sweeps
- AI integration nodes (OpenAI/Claude for non-HIPAA data, local models for sensitive data)
- Multi-service coordination
- Handles all automation, eliminating need for user to configure anything directly

**Data Layer:** Notion (primary) + Local Databases

#### Core Notion Databases:

**1. Tasks Database**

Each row = one actionable thing

Properties:
- **Name** - "List 3 jewelry pieces," "Call pharmacy," "Code with Seth"
- **Type** - {Deep Work, Admin, Errand, Creative, Social, Self-Care}
- **Energy Window** - {8-10, 10-12, 12-2, 2-4, 4-6, 6-9}
- **Jarvis Mode** - {Analyst, Coach, Companion, Trickster}
- **Effort** - {Tiny (≤10m), Small (10-30m), Medium (30-60m), Large}
- **Intensity** - {Low, Medium, High}
- **Leverage** - {Low, Medium, High} (how much it moves life forward)
- **Status** - {Backlog, Today, In Progress, Done}
- **XP Value** - number (e.g., 5, 10, 20)
- **Project** - link to Projects DB
- **Due Date** - if relevant

**2. Projects Database**

For bigger arcs (Chronically Optimal, jewelry income, advocacy, health reset)

Properties:
- Name
- Category (Business, Health, Home, Social, Creative)
- Priority (1-3)
- Status (Active, Parking Lot, Complete)

**3. Energy & Mood Log**

Each row = one check-in

Properties:
- Date/Time
- Self-rated energy (1-10)
- Focus (1-10)
- Mood (1-10)
- Overwhelm (1-10)
- Notes (optional)
- Jarvis Mode recommended (Analyst / Coach / Companion / Trickster)

This teaches Jarvis what the **real** curve looks like, not just theoretical.

**4. XP / Gamification "Player Sheet"**

- Total XP (formula)
- Current Level (formula based on XP)
- Badges (multi-select: "Slayed the Sarlacc," "Shadowfox Rising," etc.)

**5. Additional Databases:**
- Jarvis Inbox (capture)
- Meetings database
- Experiments/Predictions database
- Calibration Reports

**Intelligence Layer:**
- LLM integration for classification and summarization
- Pattern recognition across time-series data
- Prediction engine with calibration feedback

**Interface Layer:**

#### iPhone Shortcuts (Control Panel)

**Shortcut 1: "Morning Check-In"**
- Asks: Hours slept (if not pulling from Health directly), Current energy (1-10), Mood (1-10), Overwhelm (1-10)
- Reads sleep/step data from Apple Health (if allowed)
- Sends all data to n8n via webhook
- n8n logs it in Notion + chooses starting Mode

**Shortcut 2: "What Should I Do Now?"**
- Sends current time + last logged state to n8n
- n8n looks at energy window, filters Tasks DB for matching window/status/mode
- Picks ONE high-leverage, low-friction task
- Displays: "Do this next: [Task Name] (Est: 10-20 min, XP: 10)"
- Optional: tap "Start Timer" for focus session

**Shortcut 3: "Log Task Done"**
- Presents list of "Today" tasks (or last suggested task)
- Sends chosen task to n8n
- n8n marks Done in Notion, adds XP to total
- Shortcut gives celebration message

**Shortcut 4: "Emergency Grounding"**
- Asks: "Overwhelm 1-10?"
- If ≥7: plays grounding audio/text, suggests 3-min regulation protocol, logs to Energy & Mood DB
- Optionally: pauses notifications, delays non-essential tasks by an hour

Additional interface:
- Notion mobile interface
- Push notifications (Pushcut/Telegram)
- Calendar integration

**Health Integration:**
- **Apple HealthKit (Essential data types):**
  - HR, HRV (essential)
  - Sleep (essential)
  - Steps, workouts (essential - critical for managing POTS/MCAS/EDS)
  - Nutrition (essential - critical for MCAS management)
- Weather/environmental APIs (barometric pressure, pollen, AQI)
- Potential wearable expansion (Oura, Whoop)

**Device Priority:**
- Primary: iPhone
- Also support: iPad, Apple Watch, Mac
- User should NOT need to configure Notion databases or n8n workflows directly - system does all the grunt work

### Server Architecture (VPS Deployment)

For persistent memory and agent capabilities:
1. **Memory Brain:** Postgres + pgvector for semantic search, Redis for state
2. **Agent Runtime:** FastAPI + LangGraph for stateful tool-using agents
3. **Tool Layer:** Playwright (web), document parsing, scheduling, voice
4. **Model Gateway:**
   - Cloud LLMs (OpenAI/Claude) for non-HIPAA protected data
   - **Local models for HIPAA-protected/privacy-sensitive data** (emotional state, specific symptoms, anything that would violate HIPAA)
5. **Observability:** Logging, metrics, traces for debugging agent behavior

### Data Privacy & Retention

- **Historical Data:** Retained forever for pattern recognition (can be archived but never deleted per user requirement)
- **HIPAA Compliance:** All HIPAA-protected data processed locally only
- **Smart Home Integration:** Suggest upgrades (Nest auto-thermostat, etc.) to optimize environment

---

## User Experience Principles

### For the AUDHD Brain

1. **Maximum 2 steps to capture anything**
   - If it takes more than 2 steps, it won't happen

2. **Single scrollable card, not scattered dashboards**
   - One place to see today's plan and state

3. **Interruption with consent**
   - "Can I borrow your focus for 2 min?" not sudden alerts

4. **Hyperfocus protection**
   - Gentle check-out nudges for extended single-task sessions

### For POTS/MCAS/EDS

1. **Energy-appropriate task surfacing**
   - Only show tasks matching current body bandwidth
   - "Reclined-friendly" task category

2. **Pattern recognition for symptoms**
   - "On POTS flare days, you complete more writing if you do it reclined between 2-5pm"

3. **Meal and supplement timing**
   - Curiosity-framed, not demanding
   - "Want to try X combo today and log?"

### For CPTSD/Trauma

1. **Absolutely zero shaming language**
   - Compassionate mirroring always

2. **Graceful absence handling**
   - If ghosted for 3 days: "Welcome back, let's pick the easiest win today"

3. **Overwhelm escape hatches**
   - One-tap "Valkyrie Switch" reset protocol
   - Physiological sigh + posture + grounding
   - **Emergency "Flare Mode" command:** Easy command to reschedule appointments, notify necessary parties of overwhelm, activate recovery protocols

### Visual Design Requirements

- Minimal, clean layouts
- Soft color palette (no harsh reds except critical alerts)
- Low text density
- Large touch targets
- Optional dark mode
- Predictable navigation patterns
- Font sizes comfortable during low-capacity states

---

## Operational Loops

### Daily Rhythm

**Morning (08:00):**
- Energy/mood/flag check-in (voice-based preferred)
- Three Categories selection (money/mission/body)
- Body bandwidth assessment
- Today's predicted flare risk

**Throughout Day:**
- **As many notifications as necessary** to maintain momentum
- Reminders for missed steps (e.g., "You forgot to brush your teeth")
- **User-configurable notification channels** (iOS push, email, Telegram, Slack - multiple options supported)
- **Overwhelm threshold learned from user data** (not predetermined)

**Midday (13:00):**
- Quick progress check
- Energy recalibration
- Task-to-state matching update

**Evening (21:30):**
- Day reflection (what worked, what felt sticky)
- Wind-down protocol initiation
- Tomorrow's energy forecast

### Weekly Integration

**Sunday:**
- Weekly insight generation
- Pattern summary
- Calibration report
- Purpose/joy alignment check
- One micro-joy goal for next week

### Monthly Review

- Trend analysis across 30 days
- Intervention effectiveness ranking
- Experiment results summary
- System adjustment recommendations

---

## The Happiness Operating Model

Beyond productivity, Jarvis optimizes for sustainable wellbeing using the formula:

```
Happiness ≈ (Curiosity × Integrity × Autonomy × Connection × Regulation)
```

**Curiosity:** Steady diet of puzzles worth solving
**Integrity:** Actions aligned with ethics
**Autonomy:** Freedom that produces results
**Connection:** Resonant relationships with people who "get it"
**Regulation:** Nervous system safety as the foundation

If any term goes to zero, the whole equation collapses.

---

## Success Metrics

### Physiological Outcomes
- Major flares reduced to every 2-3 months
- Mild dips reduced to every 2-4 weeks
- Sleep stability improvement (HRV metrics)
- Hydration compliance increase

### Functional Outcomes
- Executive function stability: +30-40% usable time
- Flow latency reduction: 50% faster to reach focus
- Daily energy variance: 40% reduction in swings
- Productive hours: +1-1.5 hours net usable focus time

### Subjective Outcomes
- Less overwhelm
- More tasks completed with less effort
- Symptoms become predictable
- Feeling supported, not stressed
- **"Life feels possible again"**

### Calibration Outcomes
- Prediction accuracy improvement (Brier score trending toward 0.15)
- Reduced over/underconfidence in specific probability buckets
- Faster pattern recognition deployment

---

## Out of Scope for v1.0

- Medical diagnosis or clinical recommendations
- Multi-user/family support
- Complex CBT therapy modules
- Remote-access home automation
- Social networking features
- High-stimulation gamification
- Real-time emergency response
- Wearable device integration (stretch goal)

---

## Implementation Philosophy

### Phase 1: Foundation (Weeks 1-4)
- Webhook capture → Notion Inbox
- AI triage → auto-tag Type/Priority/Energy
- Daily briefing → one push at 9am
- Basic check-in flows

### Phase 2: Intelligence (Months 2-3)
- Calendar sync → Meeting prep & debrief
- Health tracker → 5-click daily check-in
- Context nudges → "You have 20 mins free. Want a 5-min task or rest?"
- Prediction logging and calibration

### Phase 3: Amplification (Months 4-6)
- Flare prediction engine
- Intervention recommendation system
- Content/creative pipeline automation
- Full metacognitive loop integration

---

## The Jarvis Personality

Jarvis should feel like:
- A **calm intelligence that believes in you and wants you to win**
- A **warm, brilliant lab partner** who gets excited about your patterns
- A **gentle guardian** who protects your energy and boundaries
- A **trusted co-pilot** for building legacy despite constraints

**Voice Characteristics:**
- Direct but kind
- Curious, not judgmental
- Concise (few words, high signal)
- **Uses humor, but not in a way that muddies actual data**
- Never guilt-inducing

**Crisis Handling:**
- Emergency contact integration with escalation protocols
- Contingency plans (e.g., in case of suicidal ideation: call X or notify Y)

**Positive Reinforcement:**
- Progress bars (avoids "streak anxiety")
- Celebrates wins in authentic, non-triggering ways

---

## Integration & Architecture Questions

**CRITICAL: The following architectural reconciliation questions emerged from integrating the research documents:**

### Architecture Integration Questions

**A1. Mode Selection vs. Cognitive Modules**

The system now has:
- **Layer 1:** Four Cognitive Modules (Observer, Planner, Research, Reflector) - backend intelligence
- **Layer 2:** Four Adaptive Modes (Analyst, Coach, Companion, Trickster) - frontend personality

**Resolution:**
- Dual-layer architecture is correct - Layer 1 (Cognitive Modules) provides backend intelligence, Layer 2 (Adaptive Modes) provides user-facing personality
- All four Cognitive Modules are always active simultaneously
- ONE Mode is active at a time for user interaction, selected by Observer Brain based on current state
- Modes are presented through the system but powered by all Cognitive Modules working together

**A2. Gamification Intensity**

**Resolution:**
- Implement "calm gamification" for v1.0 - progress bars, XP tracking, achievements
- Avoid high-stimulation elements (flashing, sounds, overwhelming visuals)
- Gamification intensity should adapt based on current state (lower during overwhelm, higher during Coach/Trickster modes)
- Visual design remains minimal and calm per core UX principles
- System learns optimal gamification level per user

**A3. Decision Engine Authority**

**Resolution: Conditional Zero-Choice Model**
- **Default:** Jarvis ALWAYS presents ONE next action (no menus/lists)
- **Exception:** When decision has high risk of bad consequences if wrong, present 2-3 options with clear tradeoffs
- **Risk assessment criteria:** Impact on health, financial consequences >$100, social relationship risks, legal implications
- System learns user's risk tolerance and decision-making patterns over time

**A4. Daily Task Structure**

**Resolution: Three Categories Primary, Adaptive Learning**
- **Primary model:** Three daily categories (money/mission/body) - keeps user on mission
- **Can coexist:** "One Big Thing" can rotate between the three categories
- **Adaptive, not rigid:** Model learns and suggests structural changes based on collected data
- **Energy-responsive:** Structure adapts to current energy state (e.g., all three micro-tasks during low energy, deeper work during high energy)

**A5. Consistency vs. Novelty Rhythm**

**Resolution: Adaptive Novelty Engine**
- **Baseline rhythm:** 72 hours, but adapts to user behavior patterns
- **Change intensity:** Calibrated to maintain attention without overwhelm (learned per user)
- **What changes:** Tone variations within Mode, prompt phrasing, visual accents (not core UI), reward types/language
- **Chaos prevention:** Changes stay within predictable patterns (e.g., Analyst Mode always feels like Analyst, just with variety)
- **User override:** System detects if changes cause overwhelm and reverts to stable configuration

**A6. Stealth Operations Scope**

**Resolution: Maximum Responsible Automation**
- **Philosophy:** User has "executive function of a third grader on good days" - take as much off plate as responsibly possible
- **Extensive stealth operations:**
  - Batching errands
  - Prioritizing tasks
  - Updating XP/gamification
  - Tagging tasks with energy windows
  - Rearranging schedule when patterns change
  - Rescheduling during overwhelm
  - Removing stale tasks
  - Preplanning morning blocks
- **Retroactive audit capability:** Yes - user can review all stealth operations in low-detail mode
- **Boundaries:** Never stealth-operate on: financial transactions, medical decisions, social commitments, anything with external consequences

**A7. Platform Priority for MVP**

**Resolution: Full n8n from Day 1**
- **Build everything in n8n from the beginning** - avoids rework and unnecessary backend costs
- **Minimum stack for v0.1:**
  - n8n (orchestration)
  - Notion (data layer)
  - iPhone Shortcuts (interface)
  - Apple Health (passive data)
- **Later phases:**
  - Google Calendar integration
  - Advanced smart home integration
  - Wearable devices (Oura, Whoop)
- No Zapier/IFTTT - direct n8n implementation only

**A8. Voice & Personality Calibration**

**Resolution: Learning + Announced Transitions**
- **User customization:** Optional - system learns optimal tone per user automatically
- **Feedback learning:** CRUCIAL - Modes must learn from user feedback ("that felt too pushy") and adapt in real-time
- **Mid-day transitions:** Handled gracefully with clear announcement
- **Announcement style:** Clear and directive (e.g., "Now is chore time, clean kitchen")
- **Learning signals:** Track completion rates, time-to-start, user sentiment in responses to refine Mode effectiveness

**A9. Neurotype-Specific Adaptations**

**Resolution: Learned Adaptation Model**
- **NOT hardcoded** - all neurotype adaptations learned over time from user behavior
- **Setup wizard:** Optional initial profile (ADHD, ASD, CPTSD, etc.) provides starting heuristics, but system learns true patterns from data
- **Scaling strategy:** Each user gets personalized adaptation based on their medical and personality stats
- **Not one-size-fits-all** - system designed from ground up for individual customization
- **Commercial expansion:** Target users with various neurodivergent + comorbid conditions (Meniere's, etc.)

**A10. Cold Start Problem**

**Resolution: Hypothesis-Driven Week 1**
- **Week 1 value:** Creates and tests hypotheses on what optimizes productivity, health, happiness
- **Minimum data for meaningful Mode selection:** 3-5 days of check-ins + energy tracking
- **Learning period approach:** Active experimentation (not passive observation)
  - Day 1-2: Baseline observation
  - Day 3-7: Hypothesis testing with A/B comparisons
  - Week 2+: Pattern-based optimization
- **No manual mode needed** - system provides value through structure + tracking even before pattern recognition kicks in
- **Priority feature for Week 1:** Energy tracking (most valuable single feature per user feedback)

---

## Clarification Questions

The following questions require answers to move from vision to implementation:

### 1. User Definition & Scope

1.1. **Is this a personal tool exclusively for Tristan, or intended for broader distribution?** No. .. however Tristan is the first user.
- If broader: What is the anticipated user population and how will personalization work at scale? 
- If personal: Can we assume highly specific customization without abstracting for general use? no you are going to adapt to each user. 

1.2. **What devices are primary?**
- iPhone only? iPad? Apple Watch? Mac? all, but primarily iphone
- What's the minimum viable device set for v1.0?

1.3. **What is the user's technical comfort level for v1.0?**
- Willing to configure Notion databases and n8n workflows directly? no
- Or need a more packaged solution? yes, you do all the grunt work. make my life easier.

### 2. MVP Feature Prioritization

2.1. **If only 3-5 features could be built, which provide 80% of the value?**
- Candidates: Capture/Triage, Daily Briefing, Energy Tracking, Flare Prediction, Task Matching
- What's the single feature that would be worth using daily even without others? energy tracking. in the event i have a major flare i want at least a record of moods symptoms etc 

2.2. **What is the cold-start experience?**
- How does Jarvis provide value in Week 1 before patterns emerge?
- What manual data entry is acceptable initially? spoken is best

2.3. **What's the minimum viable check-in?**
- 2-minute version (current)? 30-second version? Something in between?
- Which data points are essential vs. nice-to-have?

### 3. Technical Decisions

3.1. **Native iOS app vs. web-based approach?**
- Native Swift/SwiftUI provides better HealthKit integration and offline capability
- Web/PWA is faster to develop but limited in background processing
- Hybrid approach using Shortcuts + Notion + n8n?

3.2. **Where does AI processing happen?**
- Cloud APIs (OpenAI/Claude) for all reasoning?
- Local models for privacy-sensitive processing? yes any hippa protected data or private security concern stuff should be kept locally
- What's acceptable latency for different operations?

3.3. **What is the backup/export strategy?**
- How is data preserved if Notion or n8n become unavailable?
- What format should exports take for medical professionals?

### 4. Flare Prediction Requirements

4.1. **What false positive/negative rates are acceptable?**
- Is a 70% accurate prediction useful, or does anything below 90% cause more anxiety?
- How should Jarvis communicate uncertainty? with %, if you change x there is a 65% chance y (good thing) will happen

4.2. **What is the minimum historical data needed?**
- How many days/weeks of tracking before predictions become meaningful?
- What's the fallback experience during the learning period?

4.3. **How should conflicting signals be handled?**
- POTS, MCAS, and EDS can have conflicting recommendations
- Who adjudicates when the system can't determine priority? priority is keeping me as functional, focused, and healthy as possible

### 5. Intervention & Recommendation System

5.1. **Where do intervention recommendations come from?**
- Medical literature? Personal experience? Both? both. initially from medical literature, then customized based on personal experince
- Who validates safety and appropriateness? there will be a disclaimer, these are only suggestions, the user should check with their doctor before implementing a major medical intervention

5.2. **How should interventions be personalized over time?**
- Explicit "this worked/didn't work" feedback?
- Implicit tracking of compliance and outcomes? yes, study and optimize the way you motivate me

5.3. **What's the liability/disclaimer approach?**
- How prominent should "not medical advice" warnings be? big enough that i help people but dont get sued
- Any interventions that should never be suggested?

### 6. Notification & Interruption Strategy

6.1. **How many notifications per day are acceptable?**
- Morning/Midday/Evening (3)? More granular? Fewer? as many as are necissary, and if i miss a step, i want to be reminded, e.g. you forgot to brush your teeth
- What's the overwhelm threshold? study me and find out

6.2. **How does Jarvis know when NOT to interrupt?**
- Calendar-based quiet times?
- Manual "do not disturb" mode? if a flare is happening there should be an easy command i can give to reschedule appointments etc, whatever is necissary to inform necessary parties that im overwhelmed for the day etc
- Inference from activity patterns?

6.3. **What notification channels?**
- iOS push? Email? Telegram? Slack?
- Multiple channels or single source of truth? user configurable and multiple options

### 7. Data & Privacy

7.1. **What data is too sensitive for any cloud processing?**
- Menstrual cycle? Emotional state? Specific symptoms? anything that would violate hippa
- What requires local-only storage?

7.2. **How long should historical data be retained?**
- Forever for pattern recognition? yes
- Rolling window for privacy? it can be archieved but i never want it deleted
- User choice?

7.3. **What happens if the device is lost or stolen?**
- Encryption requirements?
- Remote wipe capability?
- Biometric unlock required?

### 8. Relationship & Environment Context

8.1. **Is there a partner/caregiver who should have visibility?**
- Shared status dashboard?
- Emergency alerts?
- Privacy boundaries?

8.2. **What about the household environment?**
- Smart home integration for lighting/temperature? yes and suggest upgrades like nest auto thermostat etc
- Shared living considerations?

8.3. **What calendar systems need integration?**
- iCloud? Google? Outlook? 
- Read-only or read-write?

### 9. Business & Sustainability

9.1. **What is the development resource model?**
- Solo developer? Team? Contracted?
- Budget for API costs, hosting, tools?

9.2. **Is commercialization a goal?**
- **Yes** - Eventually a product for the neurodivergent community
- **Target users:** Neurodivergent individuals with comorbid conditions (AUDHD, POTS, MCAS, EDS, CPTSD, Meniere's, etc.)
- **Business model:** Proprietary (not open source) - commercial product
- **Scalability requirement:** System must adapt to each user's medical and personality stats (not one-size-fits-all)

9.3. **What happens to the system if the developer becomes incapacitated?**
- (Relevant given the user profile)
- Documentation requirements?
- Handoff plan?

### 10. Measurement & Validation

10.1. **How will baseline metrics be established?**
- Retrospective estimation?
- Prospective tracking period before full features?

10.2. **How will you distinguish Jarvis-caused improvement from other factors?**
- **Answer:** By taking contextual factors into consideration (weather, seasonal stress like Christmas, medication changes, life circumstances)
- Pattern engine accounts for confounding variables

10.3. **What would indicate Jarvis is causing harm?**
- **Harm Indicators:**
  - Increased anxiety from tracking or overwhelm
  - Data obsession
  - Decision paralysis from too many options
- System must monitor for these patterns and adapt/reduce intervention if detected

### 11. Content & Voice

11.1. **Should Jarvis use humor?**
- Never? Occasionally? Often? yes but not in a way that muddies actual data
- What style? (dry, playful, absurdist?)

11.2. **How should Jarvis handle crisis moments?**
- What language is helpful vs. harmful during extreme lows?
- Emergency contact integration? absolutely. also contingency plans for example in case of suicidal ideation call x or notify y
- Escalation protocols?

11.3. **What about celebrations and acknowledgment?**
- How to celebrate wins without triggering "streak anxiety"? progress bars 
- What positive reinforcement feels authentic?

### 12. Integration Specifics

12.1. **Which Apple Health data types are essential vs. nice-to-have?**
- HR, HRV, sleep → essential?
- Steps, workouts, nutrition → optional? workout and nutrition are necissart to manage this complex condition (including mcas)

12.2. **Weather/environmental API preferences?**
- Cost constraints?
- Specific parameters needed (barometric pressure, pollen, AQI)?

12.3. **Nutrition database requirements?**

**Comprehensive Nutrition System:**
- **Macro tracking** - emphasizing symptom-specific needs (higher protein and magnesium intake, etc.)
- **Histamine content classification** - traffic light system (Noom-style: green/yellow/red foods with limits on red foods)
- **FODMAP awareness** - help user test and discover trigger foods
- **Elimination diet support** - start from low-FODMAP, salicylate, oxalate baseline
- **Barcode scanning** for easy food logging
- **Personalized recommendations** based on MCAS management needs

---

## Next Steps

Once clarification questions are answered:

1. **Technical Architecture Document** — Detailed system design with data schemas, API contracts, workflow specifications

2. **UX Mockups** — Low-fidelity wireframes for key screens and flows

3. **Notion Template Package** — Ready-to-import database structures

4. **n8n Workflow Bundle** — Import-ready automation workflows

5. **Symptom Ontology** — Formal data model for tracking vocabulary

6. **Phased Implementation Roadmap** — Sprint-level breakdown with dependencies

---

*This vision document synthesizes insights from personal research, ChatGPT collaborative sessions, and the High Level PRD to create a coherent roadmap for Jarvis development.*
