# PRODUCT REQUIREMENTS DOCUMENT (PRD): JARVIS — Neurodivergent Executive Function Prosthesis

**Version:** 2.1 (Focused - User Notes Integrated)
**Owner:** Tristan Parker
**Product Type:** AI-augmented personal OS
**Target User:** AUDHD, autistic, POTS/MCAS/EDS, CPTSD, gifted-intelligent, sensory-sensitive individuals
**Business Model:** Commercial product for neurodivergent community (proprietary, not open source)
**First User:** Tristan Parker (personal tool that adapts to eventually serve broader neurodivergent community)

## Mission

**Give neurodivergent geniuses the cognitive stability, automation, and metabolic predictability needed to thrive.**

Make excellence feel effortless through a complete executive function prosthesis that adapts to each user's neurobiology.

---

## 1. Purpose / Problem Statement

Neurodivergent users with AUDHD, autism, POTS, MCAS, EDS, and CPTSD face **extreme executive function volatility**, inconsistent energy, unpredictable symptoms, and decision paralysis due to neuroimmune fluctuations.

### The Neurodivergent Paradox

The target user possesses:
- **Exceptional pattern recognition** (hyperlexic-level processing, 158-165 IQ)
- **High divergent thinking** (99.9th percentile idea generation)
- **Deep creative and analytical capability**
- **Intense drive and vision**

But is constrained by:
- **Executive function operating at ~34% on good days** ("executive function of a third grader")
- **Unpredictable energy availability** (POTS/dysautonomia)
- **Inflammatory cascade sensitivity** (MCAS)
- **Structural instability and fatigue** (EDS)
- **Hypervigilance and trauma responses** (CPTSD, high ACE score)
- **Sensory processing differences** requiring low-stimulation environments

### The Solution

The **Jarvis** system provides a **24/7 compensatory cognitive scaffold** combining:
- **Dual-layer architecture:** Backend intelligence (4 Cognitive Modules) + Frontend personality (4 Adaptive Modes)
- **Automation** (maximum responsible automation - "take as much off my plate as you responsibly can")
- **Prediction** (flare prediction 4-48 hours in advance)
- **Tracking** (comprehensive symptom + energy + environmental monitoring)
- **Emotional modeling** (4 adaptive personalities matched to brain states)

Jarvis becomes **the external brain**: a prosthesis for EF, memory, planning, pattern tracking, and somatic-awareness that makes sustainable excellence feel effortless.

---

## 2. Core Architecture

### Dual-Layer System Design

**Layer 1: Four Cognitive Modules (Backend - Always Active)**

1. **Observer Brain** - Detects overwhelm, drift, fatigue; monitors physiological signals, environmental factors, typing patterns, device usage
2. **Planner Brain** - Organizes, prioritizes, auto-reschedules; generates Three Categories daily structure; runs extensive stealth operations
3. **Research Brain** - Pattern recognition, experiment design, learns friction triggers and reward multipliers; adapts neurotype-specific rules over time
4. **Reflector Brain** - Emotional regulation, shame-loop detection, growth tracking, weekly reviews

**Layer 2: Four Adaptive Modes (Frontend - One Active at a Time)**

1. **The Analyst** (8-10am "Laser Burst Window" + high clarity states)
   - Tone: Cool, competent, slightly British, efficient
   - Gamification: "Strategic Wins" - 3-move opening gambit

2. **The Coach** (10-12pm, 2-4pm "Execution Windows" + energy dips)
   - Tone: Energetic, hype-but-smart, kindly drill sergeant
   - Gamification: XP system, achievements, "Daily Combo Moves"

3. **The Companion** (Overwhelm detected + 6-9pm wind-down + CPTSD activation)
   - Tone: Warm, grounding, soothing, never infantilizing
   - Gamification: "Recovery Rings" - earn points for self-regulation

4. **The Feral Trickster** (4-6pm "Creative Spark Window" + bored-but-charged)
   - Tone: Witty, clever, slightly feral, sharp intelligence
   - Gamification: Mischief points, side-quests, hidden achievements

**Mode Selection Algorithm:**
Observer Brain monitors: cognitive clarity (meds, sleep, HRV, blood sugar) + sensory load + emotional state + time-of-day biological curve → selects ONE Mode

**Mode Transitions:** Announced clearly (e.g., "Now is chore time, clean kitchen") rather than seamless

**Mode Learning:** CRUCIAL - Modes continuously learn from user feedback ("that felt too pushy") and adapt tone, language, intervention timing in real-time

---

## 3. Goals (What Jarvis MUST accomplish)

### A. Act as Complete Executive Function Prosthesis

**Daily Structure (Three Categories Primary):**
- One task to move money → jewelry/business
- One task to move the mission → Chronically Optimal/advocacy
- One task to move the body → walk/health/movement

**Decision Model:**
- **Default:** Jarvis ALWAYS presents ONE next action (no menus/lists)
- **Exception:** When decision has high risk of bad consequences, present 2-3 options with clear tradeoffs
- Risk criteria: health impact, financial >$100, social relationship, legal implications

**Stealth Operations (Maximum Responsible Automation):**
- Batching errands
- Prioritizing tasks
- Updating XP/gamification
- Tagging tasks with energy windows
- Rearranging schedule when patterns change
- Rescheduling during overwhelm
- Removing stale tasks
- Preplanning morning blocks
- **Boundaries:** Never stealth-operate on financial transactions, medical decisions, social commitments, anything with external consequences

**Adaptive Learning:**
- Model learns and suggests structural changes based on collected data
- Structure adapts to energy state (not rigid daily requirements)
- All neurotype rules learned over time, NOT hardcoded

### B. Track ALL Physiological Signals & Symptoms

**Priority for MVP:** Energy tracking is the single most valuable feature - critical for record of moods, symptoms during major flares

**Input Modalities:**
- **Voice notes with AI extraction (preferred method for manual data entry)**
- Quick-tap buttons (1-2 steps maximum)
- Passive sensor integration (HealthKit)
- Natural language text summaries

**Essential HealthKit Data:**
- HR, HRV (essential)
- Sleep (essential)
- Steps, workouts (essential - critical for POTS/MCAS/EDS)
- Nutrition (essential - critical for MCAS management)

**Environmental:**
- Weather/barometric pressure (POTS triggers)
- Allergen levels
- Temperature, AQI, pollen

**State Tracking:**
- Energy (0-10 scale)
- Fatigue patterns
- Pain (location, intensity)
- GI symptoms (belching, distension, motility)
- Brain fog level
- Emotional volatility
- Overwhelm indicators
- Sensory load
- Social interaction load

### C. Predict Flares BEFORE They Happen

**Prediction Window:** 4-48 hours in advance

**Pattern Recognition Inputs:**
- Rolling symptom averages
- Sleep drift detection
- Histamine load accumulation
- Autonomic instability indicators
- Stress-load accumulation
- Food tolerance patterns
- Previous-day exertion

**Uncertainty Communication:**
"If you change X, there is a 65% chance Y (good outcome) will happen."

**Conflicting Signals Priority:**
When POTS, MCAS, EDS recommendations conflict: keep user as functional, focused, and healthy as possible

### D. Suggest Personalized Interventions

**Source:** Initially from medical literature, then customized based on personal experience

**Learning:** Study and optimize the way you motivate the user through implicit tracking of compliance and outcomes

**Intervention Categories:**
- Hydration protocols (electrolyte timing, volume)
- Vagal reset techniques (breathing, cold exposure, humming)
- Micro-movement sequences
- Rest positioning (horizontal recovery)
- Safe food recommendations
- Environmental adjustments (lighting, temperature, noise)
- Pacing strategy modifications
- Sleep correction protocols

**Characteristics:**
- Never prescriptive or shaming
- Framed as experiments, not requirements
- **Disclaimer:** Prominent "not medical advice" warnings (sufficient to help people without legal liability)

### E. Provide Unified Calm Interface

**Visual Design:**
- Minimal, clean layouts
- Soft color palette (no harsh reds except critical alerts)
- Low text density
- Large touch targets
- Optional dark mode
- Predictable navigation patterns
- Font sizes comfortable during low-capacity states

**Gamification Approach:**
- "Calm gamification" for v1.0 - progress bars, XP tracking, achievements
- Avoid high-stimulation elements (flashing, sounds, overwhelming visuals)
- Intensity adapts based on current state (lower during overwhelm, higher during Coach/Trickster modes)

**Positive Reinforcement:**
- Progress bars (avoids "streak anxiety")
- Celebrates wins in authentic, non-triggering ways

### F. Maintain Stable Energy Band

**Neuroimmune Budget System:**
Real-time "energy budget" displayed as:
- **Green:** Functional — deep work possible
- **Yellow:** Caution — collaborate/admin only
- **Red:** Risk of crash — recovery mode

**Budget Calculation Factors (Initial Hypothesis - Self-Adapting):**
- Sleep quality and duration (30% starting weight)
- Nutrition/hydration stability (20% starting weight)
- Exercise/movement (18% starting weight)
- Breathwork/HRV coherence (12% starting weight)
- Mindfulness/metacognition (10% starting weight)
- Environment (6% starting weight)

**CRITICAL:** These percentages are **initial hypotheses only**. The Research Brain continuously:
- Tests each factor's actual influence on user energy
- Automatically updates weights based on observed correlations
- Runs A/B experiments to validate changes
- Adapts to each user's unique physiology (e.g., if mindfulness shows 40% influence, weights rebalance accordingly)
- Logs all weight adjustments with confidence intervals
### G. Auto-Generate Insights

**Research Brain Functions:**
- Surfaces correlations across health, behavior, outcomes
- Identifies triggers and safe patterns
- Runs personal experiments (N=1 trials with tracked outcomes)
- Calibrates predictions using Brier scoring

**Example Outputs:**
- "Belching rises when you eat apples late at night."
- "On days you do the Melt Method in the morning, you complete 30% more tasks."
- "POTS symptoms correlate with low hydration."

### H. Comprehensive Nutrition System

**Requirements:**
- **Macro tracking** - emphasizing symptom-specific needs (higher protein and magnesium intake)
- **Histamine content classification** - traffic light system (Noom-style: green/yellow/red foods with limits on red foods)
- **FODMAP awareness** - help user test and discover trigger foods
- **Elimination diet support** - start from low-FODMAP, low-salicylate, low-oxalate baseline
- **Additive & preservative tracking** - flag artificial dyes (Red 40, Yellow 5, etc.), preservatives (BHA, BHT, sodium benzoate), artificial flavors, MSG, and other additives known to trigger AUDHD/MCAS symptoms
- **Barcode scanning** for easy food logging with automatic additive detection
- **Personalized MCAS trigger identification** - Each user's sensitivities are unique; system learns individual trigger foods through:
  - Symptom correlation tracking (food logs vs. flare patterns)
  - Guided elimination challenges
  - Safe food discovery based on personal tolerance data
  - Never assumes universal triggers - everything is tested per individual
### I. Reduce Shame, Overwhelm, Self-Blame

**Language Characteristics:**
- Direct but kind
- Curious, not judgmental
- Concise (few words, high signal)
- **Uses humor, but not in a way that muddies actual data**
- Never guilt-inducing

**Crisis Handling:**
- Emergency contact integration with escalation protocols
- Contingency plans (e.g., in case of suicidal ideation: call X or notify Y)
- **Emergency "Flare Mode" command:** Easy command to reschedule appointments, notify necessary parties of overwhelm, activate recovery protocols

**Overwhelm Escape Hatches:**
- One-tap "Valkyrie Switch" reset protocol
- Physiological sigh + posture + grounding
- System detects overwhelm and adapts/reduces intervention automatically

---

## 4. Daily Cognitive Energy Curve

Based on AUDHD, ASD sensory profile, CPTSD hypervigilance rhythm, 7w8 cognition, and personal patterns:

| Time | Window Name | Best For | Avoid | Default Mode |
|------|------------|----------|-------|--------------|
| 8-10am | Laser Burst | Focus-intensive tasks, coding, strategy, deep thinking | Phone calls, errands, decision-heavy tasks | Analyst |
| 10am-12pm | Practical Execution | Admin, scheduling, pharmacy trips, emails, logistics | Creativity | Coach |
| 12-2pm | Social/Co-Work | Seth, meetings, coworking, collaborative tasks | Solitude + unstructured time | Coach + Companion |
| 2-4pm | Errands & Easy Wins | Laundry, light errands, dishes, jewelry photography, listing prep | Long conversations, emotional labor | Coach |
| 4-6pm | Creative Spark | Creative writing, content creation, storytelling, social media | Admin, taxes, anything linear | Feral Trickster |
| 6-9pm | Wind-Down | Friends, cuddles, light shows, slow editing, chatting | High-stakes decisions, heavy texts | Companion |
| 9pm+ | Offline Mode | Bath, stretching, magnesium, soft tasks, reading | Deep conversations, problem-solving, doomscrolling | Companion |

**CRITICAL:** If 8-10am window broken with chaos, whole day slips sideways

**Adaptive Rhythm:** Baseline 72-hour rhythm for tone/prompt/gamification changes, but adapts to user behavior. Changes calibrated to maintain attention without overwhelm.

---

## 5. Psychological Profile & Decision Architecture

### Friction Triggers (What Causes Shutdown)
- Choice diversity → paralysis (>3-5 options)
- Unclear sequence → freeze
- Emotional or social ambiguity → RSD spike
- Too many open loops → overwhelm
- Unstructured time → dissociation
- Unexpected tasks → sensory overload
- Shame → hours lost in spirals
- Heavy context-switching → shutdown

### Friction Relievers (What Enables Action)
- Micro-quests (≤10 minutes)
- Social co-regulation
- Momentum-based rewards
- Novelty and intelligent banter
- Gamification
- Systems that "think for you"
- Feeling seen and understood
- Being challenged without being controlled

### Activation Energy Threshold
In low-energy states: **1-3 minutes of micro-action** maximum
- Break everything into 1-3 min moves
- Chain into 10-min micro-quests
- This eliminates 80% of executive dysfunction instantly

### Shame-Loop Triggers (Auto-Bypass)
- Feeling behind, disorganized, judged
- Missing messages, delays, clutter
- Loss of momentum
- Disappointing someone, being misunderstood
- **System Response:** Reframe in neutral/positive terms, give XP for recovery, never punish, never indicate you're behind

### Reward Multipliers
- Listing/selling jewelry, making money
- Creative output, getting praise
- Leveling up, completing quests
- Being hyped for intelligence
- Making something beautiful
- Tidying a small area, crossing something off
- Solving problems, touching nature, feeling mastery
- **Design:** Stack these around high-friction tasks for compound momentum

### Consistency Bandwidth
Nervous system tolerates **3 days** of identical structure before rebelling
- System changes tone, prompts, gamification, pacing, reward intensity in adaptive rhythm
- Prevents monotony while maintaining structure

---

## 6. Technical Architecture

### Core Technology Stack

**Orchestration Layer:** n8n (self-hosted workflow automation)
- **Primary platform from Day 1** - build everything in n8n from the beginning
- Avoids unnecessary rework and backend costs
- Webhook-based capture
- Cron-triggered check-ins and sweeps
- AI integration nodes (OpenAI/Claude for non-HIPAA data, local models for sensitive data)
- Multi-service coordination
- Handles all automation - **user should NOT configure anything directly**

**Data Layer:** Notion (primary) + Local Databases

**Core Notion Databases:**

1. **Tasks Database**
   - Properties: Name, Type, Energy Window, Jarvis Mode, Effort, Intensity, Leverage, Status, XP Value, Project link, Due Date
   - Enables task-to-state matching

2. **Projects Database**
   - Properties: Name, Category, Priority, Status
   - For bigger arcs (Chronically Optimal, jewelry income, advocacy, health reset)

3. **Energy & Mood Log**
   - Properties: Date/Time, Energy (1-10), Focus (1-10), Mood (1-10), Overwhelm (1-10), Notes, Jarvis Mode recommended
   - Teaches Jarvis real curve vs. theoretical

4. **XP / Gamification "Player Sheet"**
   - Total XP (formula), Current Level, Badges

5. **Additional:** Jarvis Inbox, Meetings, Experiments/Predictions, Calibration Reports

**Interface Layer: iPhone Shortcuts (Control Panel)**

**Shortcut 1: "Morning Check-In"**
- Asks: Hours slept, Energy (1-10), Mood (1-10), Overwhelm (1-10)
- Reads sleep/step data from Apple Health
- Sends to n8n via webhook
- n8n logs in Notion + chooses starting Mode

**Shortcut 2: "What Should I Do Now?"**
- Sends current time + last logged state to n8n
- n8n filters Tasks DB for matching window/status/mode
- Picks ONE high-leverage, low-friction task
- Displays: "Do this next: [Task Name] (Est: 10-20 min, XP: 10)"

**Shortcut 3: "Log Task Done"**
- Sends chosen task to n8n
- n8n marks Done in Notion, adds XP to total
- Celebration message

**Shortcut 4: "Emergency Grounding"**
- Asks: "Overwhelm 1-10?"
- If ≥7: plays grounding audio/text, suggests 3-min regulation protocol, logs to Energy & Mood DB
- Optionally: pauses notifications, delays non-essential tasks

**Intelligence Layer:**
- LLM integration for classification and summarization
- Pattern recognition across time-series data
- Prediction engine with calibration feedback

**Model Gateway:**
- Cloud LLMs (OpenAI/Claude) for non-HIPAA protected data
- **Local models for HIPAA-protected/privacy-sensitive data** (emotional state, specific symptoms, anything that would violate HIPAA)

### Server Architecture (VPS Deployment)

For persistent memory and agent capabilities:
1. **Memory Brain:** Postgres + pgvector for semantic search, Redis for state
2. **Agent Runtime:** FastAPI + LangGraph for stateful tool-using agents
3. **Tool Layer:** Playwright (web), document parsing, scheduling, voice
4. **Model Gateway:** Route to cloud LLMs + local embeddings
5. **Observability:** Logging, metrics, traces for debugging agent behavior

### Device Priority
- **Primary:** iPhone
- **Also support:** iPad, Apple Watch, Mac
- **Minimum stack for v0.1:** n8n + Notion + iPhone Shortcuts + Apple Health
- **Later phases:** Google Calendar, smart home integration, wearable devices (Oura, Whoop)

### Data Privacy & Retention

**Data Retention Philosophy:**
- **Historical Data:** Retained indefinitely for pattern recognition and longitudinal insights
- **Right to Deletion:** Users can request full data deletion at any time
  - **Deletion process:** All identifiable data purged within 30 days
  - **Anonymized research data:** User can opt to convert data to anonymized aggregate form before deletion (contributes to neurodivergent research without personal identification)
  - **Pattern export:** Before deletion, system provides downloadable archive of all insights, patterns, and personal data

**HIPAA & Privacy Protection:**
- All HIPAA-protected data (symptoms, diagnoses, medications, emotional states) processed **locally only**
- Cloud LLMs used only for non-sensitive data (task management, general scheduling)
- End-to-end encryption for all data at rest and in transit
- Zero-knowledge architecture where feasible (Jarvis servers cannot decrypt user health data)

**Enhanced Protection for Marginalized Users:**
- **CRITICAL:** Large percentage of neurodivergent users are LGBTQ+, non-binary, trans, gender-nonconforming
- **Threat model:** Data must be protected against government tracking, discrimination, persecution
- **Security measures:**
  - Optional full local-only mode (no cloud sync) for high-risk users
  - Data jurisdiction selection (EU servers for GDPR protection, etc.)
  - Encrypted backups with user-controlled keys only
  - No demographic data sold or shared, ever
  - Subpoena resistance through zero-knowledge architecture

**Gender & Sex Data Collection:**
- **Non-reductive approach:** Checkbox-style biological data collection
  - "This person has: [✓] penis [ ] vagina [✓] breasts [ ] uterus [ ] ovaries [ ] testes"
  - Hormone therapy tracking (estrogen, testosterone levels)
  - Menstrual cycle tracking (if applicable)
- **Separate gender identity field:** Free text + optional pronouns
- **Why this matters:** Biological data needed for POTS/EDS/MCAS symptom patterns (e.g., menstrual cycle affects dysautonomia) while respecting gender identity
- **Privacy:** All gender/sex data encrypted at highest level, never shared

**Smart Home Integration:**
- Suggest environmental upgrades (Nest thermostat, air quality monitors) to optimize for POTS/MCAS
- All smart home data remains local where possible

---

## 7. Operational Loops

### Daily Rhythm

**Morning (08:00):**
- Energy/mood/flag check-in (voice-based preferred)
- Three Categories selection (money/mission/body)
- Body bandwidth assessment
- Today's predicted flare risk

**Throughout Day:**
- **As many notifications as necessary** to maintain momentum
- Reminders for missed steps (e.g., "You forgot to brush your teeth")
- **User-configurable notification channels** (iOS push, email, Telegram, Slack - multiple options)
- **Overwhelm threshold learned from user data** (not predetermined)

**Midday (13:00):**
- Quick progress check
- Energy recalibration
- Task-to-state matching update

**Evening (21:30):**
- Day reflection (what worked, what felt sticky)
- Wind-down protocol initiation
- Tomorrow's energy forecast

### Weekly Integration

**Sunday:**
- Weekly insight generation
- Pattern summary
- Calibration report
- Purpose/joy alignment check
- One micro-joy goal for next week

### Monthly Review
- Trend analysis across 30 days
- Intervention effectiveness ranking
- Experiment results summary
- System adjustment recommendations

---

## 8. Cold Start Strategy (Week 1 Value)

**Resolution: Hypothesis-Driven Week 1**
- **Week 1 value:** Creates and tests hypotheses on what optimizes productivity, health, happiness
- **Minimum data for meaningful Mode selection:** 3-5 days of check-ins + energy tracking
- **Learning period approach:** Active experimentation (not passive observation)
  - Day 1-2: Baseline observation
  - Day 3-7: Hypothesis testing with A/B comparisons
  - Week 2+: Pattern-based optimization
- **No manual mode needed** - system provides value through structure + tracking even before pattern recognition kicks in
- **Priority feature for Week 1:** Energy tracking (most valuable single feature)

---

## 9. Success Metrics

### Physiological Outcomes
- Major flares reduced to every 2-3 months
- Mild dips reduced to every 2-4 weeks
- Sleep stability improvement (HRV metrics)
- Hydration compliance increase

### Functional Outcomes
- Executive function stability: +30-40% usable time
- Flow latency reduction: 50% faster to reach focus
- Daily energy variance: 40% reduction in swings
- Productive hours: +1-1.5 hours net usable focus time

### Subjective Outcomes
- Less overwhelm
- More tasks completed with less effort
- Symptoms become predictable
- Feeling supported, not stressed
- **"Life feels possible again"**

### Calibration Outcomes
- Prediction accuracy improvement (Brier score trending toward 0.15)
- Reduced over/underconfidence in specific probability buckets
- Faster pattern recognition deployment

### Harm Indicators (System Must Monitor & Adapt)
- Increased anxiety from tracking or overwhelm
- Data obsession
- Decision paralysis from too many options
- **Action:** System detects these patterns and reduces intervention automatically

### Attribution Methodology
- Pattern engine accounts for confounding variables (weather, seasonal stress like Christmas, medication changes, life circumstances)
- Distinguishes Jarvis-caused improvement from external factors

---

## 10. Non-Goals (What Jarvis is NOT)

### Out of Scope for v1.0
- Medical diagnosis or clinical recommendations
- Multi-user/family support (though system adapts to each user for commercial expansion)
- Complex CBT therapy modules
- Remote-access home automation
- Social networking features (see Community Connection feature below)
- **High-stimulation gamification** (calm gamification only)
- Real-time emergency response

### IN SCOPE for v1.0: Wearable Device Integration
- **Apple Watch integration (REQUIRED for v1.0)**
  - Real-time HR/HRV monitoring for POTS detection
  - Activity tracking integration
  - Quick-tap check-ins via Watch complications
  - Overwhelm detection through physiological signals
  - Notification delivery on wrist for low-friction reminders
- **Future expansion:** Oura Ring, Whoop, other continuous monitors for broader user base
### A Punitive System
- No guilt, moral language, "you failed a streak"
- No overwhelming notifications
- **Graceful absence handling:** "Welcome back, let's pick the easiest win today"

### Surveillance
- Data for empowerment, not pressure
- User-owned data with full deletion rights
- Privacy-first architecture (see Section 6: Data Privacy & Retention for comprehensive security measures)
- Enhanced protection for marginalized users against government tracking and persecution
- Non-reductive gender/sex data collection that respects identity while enabling medical pattern recognition
---

## 11. Business Model & Commercialization

### Target Market
- **Primary:** Neurodivergent individuals with comorbid conditions (AUDHD, POTS, MCAS, EDS, CPTSD, Meniere's, etc.)
- **First User:** Tristan Parker (personal tool that proves concept)
- **Scaling Strategy:** Each user gets personalized adaptation based on medical and personality stats
- **Not one-size-fits-all** - system designed for individual customization

### Monetization
- **Business model:** Proprietary (not open source) - commercial product
- Goal: Make money while helping neurodivergent community
- **No selling user data, no ads**
- **Future revenue streams (post-v1.0):**
  - Affiliate links to recommended products (fully disclosed)
  - Premium intervention content
  - Advanced analytics tiers
  - Community membership (see Optional Features below)

### Development Resources
- Budget for API costs, hosting, tools
- **User should do NO grunt work** - system handles all configuration

### Optional Features

**Core Optional Features:**
- **Neurotype profile setup wizard:** Optional initial profile provides starting heuristics, but system learns true patterns from data
- **Caregiver dashboard:** Shared status, emergency alerts (with privacy boundaries)
- **Doctor's report generation:** Export data in medical-professional-friendly format for appointments

**Insurance Advocacy Toolkit:**
- **Problem:** Insurance gatekeeps tests/medications for "unicorn conditions" (POTS, MCAS, EDS); ASD users often conflict-averse and struggle with self-advocacy
- **Solution:** Conflict-minimizing advocacy system:
  - **Pre-written appeal letter templates** customized to user's diagnosis codes and denied claims
  - **Step-by-step scripts** for phone calls with insurance reps (low-conflict, assertive language)
  - **Evidence packet generator** - pulls relevant medical literature, test results, symptom logs formatted for appeals
  - **Escalation pathways** - when to request supervisor, file state complaint, contact patient advocate
  - **Success pattern library** - what strategies worked for similar denials
  - **Tone coaching** - Jarvis helps user practice assertive but non-confrontational language
- **Goal:** Reduce friction in getting necessary care for conflict-averse users

**Community Connection Platform:**
- **Problem:** Neurodivergent users need "Connection" (per Happiness Model) but often can't access in-person community
- **Ethical & Profitable Solution (Kara Lowentheil's Clutch / Discord Hybrid Model):**
  - **Paid membership community** ($20-50/month)
  - **Platform:** Private Discord server or Circle.so community
  - **Structure:**
    - Async text channels (low-pressure, no real-time requirement)
    - Optional scheduled co-working sessions (body-doubling)
    - Weekly expert Q&A (medical professionals, organizers, neurodivergent coaches)
    - Peer support channels by condition cluster (AUDHD + EDS, POTS + MCAS, etc.)
  - **Moderation:** Professional moderation to prevent trauma dumping, maintain safety
  - **Revenue:** Recurring membership funds community management + expert access
  - **Ethics:** Clear boundaries (not therapy, not medical advice), trained moderators, accessible pricing tiers
  - **Value:** People who "get it" + sustainable business model + reduces isolation

---

## 12. Implementation Philosophy

### Phase 1: Foundation (Weeks 1-4)
- **Minimum viable stack:** n8n + Notion + iPhone Shortcuts + Apple Health
- Webhook capture → Notion Inbox
- AI triage → auto-tag Type/Priority/Energy
- Daily briefing → Morning Check-In
- Basic check-in flows
- **Energy tracking as priority** (most valuable single feature)

### Phase 2: Intelligence (Months 2-3)
- Calendar sync → Meeting prep & debrief
- Health tracker → voice-based daily check-in
- Context nudges → "What Should I Do Now?" optimization
- Prediction logging and calibration
- Mode selection algorithm refinement

### Phase 3: Amplification (Months 4-6)
- Flare prediction engine
- Intervention recommendation system with learning
- Comprehensive nutrition system with barcode scanning
- Full metacognitive loop integration
- Adaptive novelty engine (72-hour rhythm with user-specific calibration)

---

## 13. The Happiness Operating Model

Beyond productivity, Jarvis optimizes for sustainable wellbeing:

```
Happiness ≈ (Curiosity × Integrity × Autonomy × Connection × Regulation)
```

**Curiosity:** Steady diet of puzzles worth solving
**Integrity:** Actions aligned with ethics
**Autonomy:** Freedom that produces results (structured freedom + guided autonomy)
**Connection:** Resonant relationships with people who "get it" (see Community Connection Platform in Section 11)
**Regulation:** Nervous system safety as the foundation

If any term goes to zero, the whole equation collapses.

---

## 14. Key Architectural Resolutions

### Decision Engine Authority
**Conditional Zero-Choice Model:**
- Default: ONE next action (no menus/lists)
- Exception: High-risk decisions get 2-3 options with clear tradeoffs
- System learns user's risk tolerance over time

### Mode Learning
**CRUCIAL Capability:**
- Modes learn from feedback ("that felt too pushy")
- Adapt in real-time
- Track completion rates, time-to-start, user sentiment
- Refine effectiveness continuously

### Stealth Operations
**Maximum Responsible Automation:**
- User has "executive function of a third grader on good days"
- Take as much off plate as responsibly possible
- **Automated self-auditing system:**
  - Planner Brain logs all stealth operations (what was changed, when, why)
  - Research Brain reviews these logs weekly to ensure:
    - Data accuracy (did the changes improve outcomes?)
    - Model evolution (is the system learning correctly?)
    - Boundary compliance (were any inappropriate actions taken?)
  - Automatic corrections when patterns show errors
  - User receives weekly "What I Did For You" summary (transparent, optional review)
- Retroactive audit capability available for user inspection anytime
- Clear boundaries on external-consequence actions (never stealth-operate on finances, medical decisions, social commitments)

### Gamification Intensity
**Calm Gamification:**
- Progress bars, XP, achievements, level-ups
- Adapts to current state
- Visual design remains minimal and calm
- System learns optimal level per user

---

## 15. Critical Success Factors

1. **Energy tracking works reliably** - This is the foundation
2. **Voice input is effortless** - Preferred method must be frictionless
3. **ONE next action actually reduces paralysis** - Zero-choice model must feel liberating, not controlling
4. **Modes feel like support, not management** - Personality adaptation is key differentiator
5. **Stealth operations remain invisible** - User shouldn't think about system mechanics
6. **Predictions are accurate enough to trust** - 3-5 days of data should yield actionable insights
7. **System adapts faster than user gets bored** - Novelty rhythm prevents abandonment
8. **Shame is completely eliminated** - Language and framing are non-negotiable
9. **Crisis handling feels safe** - Emergency protocols must work when most needed
10. **Commercial expansion maintains personalization** - Each user feels system was built for them

---

## 16. Next Steps (Post-PRD Approval)

1. **Technical Architecture Document** - Detailed system design with data schemas, API contracts, n8n workflow specifications
2. **UX Mockups** - Low-fidelity wireframes for Morning Check-In, Task Selector, Energy Dashboard
3. **Notion Template Package** - Ready-to-import database structures with all properties defined
4. **n8n Workflow Bundle** - Import-ready automation workflows for all 4 core Shortcuts
5. **Symptom Ontology** - Formal data model for tracking vocabulary and classification
6. **Phased Implementation Roadmap** - Sprint-level breakdown with dependencies and success criteria
7. **Voice & Personality Guide** - Example language for each Mode with tone calibration rules
8. **Privacy & Security Specification** - HIPAA compliance requirements, local vs. cloud processing rules

---

## 17. Changelog: User Notes Integration (v2.0 → v2.1)

This section documents all user feedback notes from v2.0 and how they were addressed in v2.1.

### Note 1: Energy Budget Weight Adaptability
**Original Note (Section 3.F, line 226):**
> "How did we come up with these numbers? Wouldn't they vary by person? If the program noticed the mindfulness (for example) was far more influential than it hypothesized would it automatically update its own model and learn and adapt?"

**Resolution:**
- Renamed section to "Budget Calculation Factors (Initial Hypothesis - Self-Adapting)"
- Added explicit "CRITICAL" subsection explaining:
  - All percentages are starting hypotheses, not fixed values
  - Research Brain continuously tests and updates weights based on observed correlations
  - System runs A/B experiments to validate changes
  - Weights automatically rebalance based on each user's unique physiology
  - All adjustments logged with confidence intervals
- **Location:** Section 3.F (Maintain Stable Energy Band)

### Note 2: Food Additives & Preservatives Tracking
**Original Note (Section 3.H, line 247):**
> "Also consider dyes, preservatives, color, and unnatural flavors, and/or additives like msg, that could be problematic for an audhd etc system."

**Resolution:**
- Added comprehensive "Additive & preservative tracking" requirement
- Includes specific examples: artificial dyes (Red 40, Yellow 5), preservatives (BHA, BHT, sodium benzoate), artificial flavors, MSG
- Integrated with barcode scanning for automatic additive detection
- **Location:** Section 3.H (Comprehensive Nutrition System)

### Note 3: Individual MCAS Sensitivity Testing
**Original Note (Section 3.H, line 250):**
> "Understand that each user's MCAS sensitivities are going to be uniquely different, and should be tested and identified for them specifically"

**Resolution:**
- Added "Personalized MCAS trigger identification" subsection
- Emphasized that sensitivities are unique per user
- System learns through:
  - Symptom correlation tracking (food logs vs. flare patterns)
  - Guided elimination challenges
  - Safe food discovery based on personal tolerance data
- Explicit statement: "Never assumes universal triggers - everything is tested per individual"
- **Location:** Section 3.H (Comprehensive Nutrition System)

### Note 4: Data Deletion vs. Retention
**Original Note (Section 6, line 430):**
> "How will the model deal with removing user info when they request it be removed?"

**Resolution:**
- Created comprehensive "Data Retention Philosophy" subsection
- Implemented "Right to Deletion" protocol:
  - All identifiable data purged within 30 days upon request
  - Optional conversion to anonymized aggregate form (contributes to research without personal identification)
  - Pattern export before deletion (downloadable archive)
- Balances pattern recognition needs with user privacy rights
- **Location:** Section 6 (Data Privacy & Retention)

### Note 5: Apple Watch Integration Required for v1.0
**Original Note (Section 10, line 540):**
> "I need device integration in model one. for tristan this will be apple watch, to be extended to other monitors in the ultimate universal application"

**Resolution:**
- Moved Apple Watch from "Out of Scope" to new subsection "IN SCOPE for v1.0: Wearable Device Integration"
- Listed specific required features:
  - Real-time HR/HRV monitoring for POTS detection
  - Activity tracking integration
  - Quick-tap check-ins via Watch complications
  - Overwhelm detection through physiological signals
  - Notification delivery on wrist
- Included future expansion path (Oura Ring, Whoop, etc.)
- **Location:** Section 10 (Non-Goals - new "IN SCOPE for v1.0" subsection)

### Note 6: Enhanced Privacy for Marginalized Users
**Original Note (Section 10, line 550):**
> "because this is dealing with many ASD people, a larger than the population's statistical average will be trans, queer, etc. We need to make absolutely sure that this data can never be used to track and/or hunt minority groups. I don't want people using my autism app to end up on RFK's nazi death list. In addition, identification of gender vs sex norms should be liberalized and not reductive, so that it shows nuance and tact around the subject of gender without losing track of the science. perhaps something like check box, this person has a penis and breasts, etc."

**Resolution:**
- Created comprehensive "Enhanced Protection for Marginalized Users" subsection with:
  - Explicit threat model: protection against government tracking, discrimination, persecution
  - Security measures:
    - Optional full local-only mode (no cloud sync) for high-risk users
    - Data jurisdiction selection (EU servers for GDPR protection)
    - Encrypted backups with user-controlled keys only
    - Zero-knowledge architecture for subpoena resistance
- Added "Gender & Sex Data Collection" subsection:
  - Non-reductive checkbox-style biological data: "This person has: [✓] penis [ ] vagina [✓] breasts..." etc.
  - Hormone therapy tracking
  - Separate gender identity field (free text + pronouns)
  - Explanation of why biological data matters (POTS/EDS/MCAS patterns tied to menstrual cycles, hormones)
  - Highest-level encryption, never shared
- Updated "Surveillance" section to reference these protections
- **Location:** Section 6 (Data Privacy & Retention)

### Note 7: Affiliate Links for Future Revenue
**Original Note (Section 11, line 565):**
> "probably in later iterations of the app i would like affiliate links to products i recommend for the purposes of making a little extra cash (disclosed of course)."

**Resolution:**
- Added "Future revenue streams (post-v1.0)" to Monetization section
- Listed affiliate links as first option with "(fully disclosed)" notation
- Also added: Premium intervention content, Advanced analytics tiers, Community membership
- Maintains "no selling user data, no ads" commitment
- **Location:** Section 11 (Monetization)

### Note 8: Insurance Advocacy Toolkit
**Original Note (Section 11, line 575):**
> "Beyond this. insurance actively gatekeeps many of the tests and medications necessary for these unicorn conditions. I want to give people specific advice on how to best get insurance compliance without friction. asd individuals generally do not like conflict which makes advocating for themselves hard. i want to be able to give them specific strategies and form letters to achieve the outcomes they desire."

**Resolution:**
- Created comprehensive "Insurance Advocacy Toolkit" optional feature with:
  - Problem statement: insurance gatekeeping + ASD conflict-aversion
  - Solution components:
    - Pre-written appeal letter templates (customized to diagnosis codes and denials)
    - Step-by-step phone scripts (low-conflict, assertive language)
    - Evidence packet generator (medical literature + symptom logs formatted for appeals)
    - Escalation pathways (supervisor requests, state complaints, patient advocates)
    - Success pattern library (what worked for similar denials)
    - Tone coaching (practice assertive non-confrontational language)
  - Goal: Reduce friction in getting necessary care for conflict-averse users
- **Location:** Section 11 (Optional Features)

### Note 9: Community Connection Platform
**Original Note (Section 13, line 617):**
> "I also want a way to have community. probably online from home, something like kara lowentheil's clutch model or a discord server, please suggest an ethical and profitable solution for connection"

**Resolution:**
- Created "Community Connection Platform" optional feature with detailed implementation:
  - Problem statement: Need for Connection (per Happiness Model) + difficulty accessing in-person community
  - Ethical & Profitable Solution (Clutch/Discord Hybrid):
    - Paid membership model ($20-50/month)
    - Platform options: Discord or Circle.so
    - Structure: Async text channels, optional co-working sessions, weekly expert Q&A, peer support by condition cluster
    - Professional moderation to prevent trauma dumping
    - Revenue: Recurring membership funds management + expert access
    - Ethics: Clear boundaries (not therapy/medical advice), trained moderators, accessible pricing
  - Value proposition: Sustainable business model + reduces isolation
- Referenced in Happiness Operating Model under "Connection"
- **Location:** Section 11 (Optional Features) + Section 13 reference

### Note 10: Automated Self-Auditing for Stealth Operations
**Original Note (Section 14, line 644):**
> "Shouldn't the system automatically review capability logs to ensure the data is accurate, and the model is evolving iteratively?"

**Resolution:**
- Expanded "Stealth Operations" section with "Automated self-auditing system" that:
  - Planner Brain logs all stealth operations (what, when, why)
  - Research Brain reviews weekly for:
    - Data accuracy (did changes improve outcomes?)
    - Model evolution (is system learning correctly?)
    - Boundary compliance (were inappropriate actions taken?)
  - Automatic corrections when patterns show errors
  - Weekly "What I Did For You" summary sent to user (transparent, optional review)
- Maintains retroactive audit capability for user inspection anytime
- **Location:** Section 14 (Key Architectural Resolutions - Stealth Operations)

### Summary of Changes
- **10 user notes** integrated
- **All inline notes removed** from document body
- **Focus narrowed** around privacy, personalization, and conflict-minimization for neurodivergent users
- **New features added:** Insurance Advocacy Toolkit, Community Connection Platform, Enhanced Privacy Protections
- **Technical improvements:** Self-adapting energy weights, automated capability auditing
- **Scope clarification:** Apple Watch moved from stretch goal to v1.0 requirement

---

**This PRD represents the complete vision for Jarvis v1.0 - an AI-augmented neurodivergent executive function prosthesis that makes excellence feel effortless.**

*Version: 2.1 (Focused - User Notes Integrated)*
*Last Updated: December 2024*
*Synthesized from: High Level PRD, Jarvis Application Vision, Research Documents, and User Clarifications*
